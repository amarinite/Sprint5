# Blackjack Game API

## Description

This project is a **REST API** application for managing a **Blackjack** game. It is built using **Spring Boot**, **R2DBC** for managing the **MySQL** database, and **MongoDB** for handling ongoing game storage. Additionally, **Swagger** is used for automatic API documentation.

## Features

- Create a new Blackjack game.
- Add players to a game.
- Deal cards and manage players' turns.
- End the game and determine the winner.
- Manage the player database in MySQL.
- View the player ranking based on wins.

## Technologies used

- **Spring Boot**
- **R2DBC** (Reactive Relational Database Connectivity)
- **MySQL** (for managing players)
- **MongoDB** (for game persistence)
- **Spring WebFlux** (reactive programming)
- **Swagger/OpenAPI** (for API documentation)
- **Java 17**


## Installation and configuration

### Requirements

- **Java 17**
- **Maven 3.6+**
- **MySQL** and **MongoDB** installed

### Database configuration

#### MySQL
1. Create a database named `blackjack_db` in MySQL.
2. Configure MySQL credentials in the `application.properties` file:

```spring.r2dbc.url=r2dbc:mysql://localhost:3306/blackjack_db
spring.r2dbc.username=your_username
spring.r2dbc.password=your_password
```


#### MongoDB
1. MongoDB should be running locally.
2. Collections will be automatically generated by MongoDB, so no manual setup is required.

### Maven dependencies

Run the following command to install the project dependencies: ```mvn clean install```


## Running the project

To run the application, use the following command:
```mvn spring-boot```


The API will be available at `http://localhost:8080`.

## API Documentation

Once the application is running, you can access the Swagger documentation at:

`http://localhost:8080/swagger-ui.html`


## Usage examples

### Create a new game

- **URL**: `/game/new`
- **Method**: `POST`
- **Response**: A new Blackjack game is created and stored in MongoDB.

### Add a player to the game

- **URL**: `/game/{gameId}/add-player`
- **Method**: `POST`
- **Parameters**:
    - `gameId`: ID of the game.
    - `playerName`: Name of the player.

### Get game details

- **URL**: `/game/{gameId}`
- **Method**: `GET`
- **Parameters**: `gameId`

### Modify a player's name

- **URL**: `/player/{playerId}`
- **Method**: `PUT`
- **Parameters**:
    - `playerId`: ID of the player.
    - `newName`: New name for the player.

### View player ranking

- **URL**: `/player/ranking`
- **Method**: `GET`

## Contribution

If you would like to contribute to this project, feel free to fork the repository and send a pull request with your improvements or fixes.

